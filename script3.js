const express = require('express'),
  app = express(),
  fs = require('fs'),
  shell = require('shelljs'),
   // Modify the folder path in which responses need to be stored
  folderPath = './Responses/',
  defaultFileExtension = 'json', // Change the default file extension
  bodyParser = require('body-parser'),
  DEFAULT_MODE = 'writeFile',
  path = require('path');
  var newLine = '\r\n';
var fsMode =  DEFAULT_MODE;
var options = undefined;
/*
var s = "<h3 class=\"kbaseDocPreview\" tid=\"3\"><span style=\"color: rgb(128,128,128);font-size: 12.0pt;\" _mce_style=\"font-size: 12pt; color: #808080;\">Anzeige von Gebrauchsinformationen zu FFP2-Masken (ABDA Plus X)</span></h3> \n<p class=\"kbaseDocPreview\" tid=\"4\"><strong>Vorgehensweise</strong></p> \n<div class=\"kbaseDocPreview\" tid=\"5\"> \n <ul tid=\"6\"> \n  <li tid=\"7\"><strong>Artikel-Center</strong></li> \n  <li tid=\"8\"><strong>Artikel eingeben, z.B. PZN </strong><span style=\"font-family: Arial , sans-serif;font-size: 10.0pt;\"><strong>17180472 </strong></span></li> \n  <li tid=\"27\"><span style=\"font-family: Arial , sans-serif;font-size: 10.0pt;\"><strong>Artikelinformationen ´&gt; Packungsinformationen&nbsp; </strong></span></li> \n  <li tid=\"28\"><span style=\"font-family: Arial , sans-serif;font-size: 10.0pt;\"><strong>Button \"ABDA Plus X\"</strong></span></li> \n  <li tid=\"29\"><strong>PDF-Datei \"Beipack ABDATA 12.2020\"</strong></li> \n </ul> \n</div> \n<p tid=\"9\">&nbsp;</p> \n<p style=\"margin: 0.0cm 0.0cm 0.0pt;\" tid=\"30\"><span style=\"font-size: 10.0pt;\"><span style=\"font-family: Arial , sans-serif;\">Wie Sie im Modul \"<b>ABDA Plus X</b>\" Gebrauchsinformationen zu FFP2-Masken </span></span><span style=\"font-size: 10.0pt;\"><span style=\"font-family: Arial , sans-serif;\">aufrufen.</span></span></p> \n<p style=\"margin: 0.0cm 0.0cm 0.0pt;\" tid=\"31\">&nbsp;</p> \n<p style=\"margin: 0.0cm 0.0cm 0.0pt;\" tid=\"32\"><span style=\"font-size: 10.0pt;\"><span style=\"font-family: Arial , sans-serif;\"><span style=\"font-size: 10.0pt;\"><span style=\"font-family: Arial , sans-serif;\">Geben Sie im <b>Artikel-Center</b> einen Artikel ein, bei dem entsprechende Informationen vorhanden sind, z.B. PZN 17180472. Der Dialog \"<b>Artikelinformationen</b>\" öffnet sich. Rufen Sie die Seite \"<b>Packungsinformationen</b>\" auf und drücken den Button \"<b>ABDA Plus X</b>\". </span></span></span></span></p> \n<p tid=\"18\"><img width=\"607\" height=\"482\" title=\"FFP1-aHelp-Bild1.png\" alt=\"\" src=\"Responses/data/images/FFP1-aHelp-Bild1.png\" isthumbnail=\"false\"></p> \n<p tid=\"39\"><span style=\"font-size: 10.0pt;\"><span style=\"font-family: Arial , sans-serif;\">Der Dialog \"<b>ABDA Plus X</b>\" öffnet sich.&nbsp;Rufen Sie dort die PDF-Datei \"<b>Beipack ABDATA 12.2020</b>\" auf. Die PDF-Datei wird angezeigt und kann bei Bedarf gedruckt werden.&nbsp;<span style=\"font-size: 10.0pt;\"><font face=\"Calibri\">&nbsp;</font></span></span></span></p> \n<p style=\"margin: 0.0cm 0.0cm 0.0pt;\" tid=\"36\"><img width=\"607\" height=\"459\" title=\"FFP1-aHelp-Bild2.png\" alt=\"\" src=\"Responses/data/images/FFP1-aHelp-Bild2.png\" isthumbnail=\"false\"></p> \n<p style=\"margin: 0.0cm 0.0cm 0.0pt;\" tid=\"40\">&nbsp;</p> \n<p tid=\"19\">&nbsp;</p> \n<p tid=\"20\">&nbsp;</p>\n";
console.log(s);
s = JSON.stringify(s);
console.log(s);
s = JSON.parse(s);
console.log(s);
fs[fsMode]("file2.html", s, options, (err) => {
  if (err) {
    console.log(err);
  } else {
    console.log('Success');
  }
});*/


var myurl = "<p tid=\"3\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img width=\"184\" height=\"65\" id=\"ImEXXtEEHuwugFAB\" alt=\" \" src=\"openAttachment.do?entity.id=12454&amp;mandatorKey=MANDATOR_USU&amp;att.author=Knuffinke%2C+Andrea&amp;att.description=&amp;att.fileName=2018-06-19+10_14_13-Faxformular+Passwort+Zugriffsberechtigungen.pdf+-+Adobe+Reader.png&amp;att.mimeType=image%2Fpng&amp;att.creationDate=1530180473529&amp;att.fileSize=11839&amp;att.id=34663&amp;att.isPartOfHTML=true&amp;att.isDocument=false\"></p> \n<p tid=\"4\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\">Sehr geehrte awinta Anwenderin, sehr geehrter awinta Anwender,</span></p> \n<p tid=\"5\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\">Sie haben awinta Hardware oder Ware die Sie von uns abholen lassen möchten?&nbsp;</span><br><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\">So einfach können Sie die Abholung&nbsp;der Ware&nbsp;beauftragen:</span></p> \n<ul tid=\"6\"> \n <li tid=\"7\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\">Öffnen Sie diesen <span style=\"text-decoration: underline;\" _mce_style=\"text-decoration: underline;\"><span style=\"color: rgb(255,0,0);text-decoration: underline;\" _mce_style=\"color: #ff0000; text-decoration: underline;\"><a href=\"https://shop.awinta.net/zubehoer/de/footer/Retoure/\" target=\"_blank\"><span style=\"color: rgb(255,0,0);text-decoration: underline;\" _mce_style=\"color: #ff0000; text-decoration: underline;\">Link</span></a></span></span><span style=\"color: rgb(255,0,0);\" _mce_style=\"color: #ff0000;\"><span style=\"color: rgb(0,0,0);\" _mce_style=\"color: #000000;\">.</span></span></span></li> \n <li tid=\"8\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\">Wählen Sie <strong>\"Retoure\" </strong>in der Menüleiste.</span></li> \n <li tid=\"9\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\">Füllen Sie&nbsp;das Formular für&nbsp;Ihre Retoure aus.</span></li> \n</ul> \n<p style=\"padding-left: 60.0px;\" _mce_style=\"padding-left: 60px;\" tid=\"10\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\"><img width=\"691\" height=\"358\" id=\"sIOfB0eskotN1N2U\" alt=\" \" src=\"openAttachment.do?entity.id=12454&amp;mandatorKey=MANDATOR_USU&amp;att.author=Knuffinke%2C+Andrea&amp;att.description=&amp;att.fileName=03.png&amp;att.mimeType=image%2Fpng&amp;att.creationDate=1530181936374&amp;att.fileSize=63552&amp;att.id=34665&amp;att.isPartOfHTML=true&amp;att.isDocument=false\"></span></span></p> \n<p style=\"padding-left: 30.0px;\" _mce_style=\"padding-left: 30px;\" tid=\"11\">&nbsp;</p> \n<ul tid=\"12\"> \n <li tid=\"13\"><span style=\"font-size: 10.0pt;\" _mce_style=\"font-size: 10pt;\"><span style=\"font-size: 10.0pt;\" _mce_style=\"font-size: 10pt;\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\">Haben Sie alle erforderlichen Daten eingetragen, klicken Sie auf den <strong>Button \"Senden\" </strong>um Ihre Retourenanforderung&nbsp;abzuschließen.</span></span></span></li> \n</ul> \n<p style=\"padding-left: 60.0px;\" _mce_style=\"padding-left: 60px;\" tid=\"14\"><span style=\"font-size: 12.0pt;\" _mce_style=\"font-size: 12pt;\"><img width=\"309\" height=\"85\" id=\"UNdFbEK4BL6BHR0R\" alt=\" \" src=\"openAttachment.do?entity.id=12454&amp;mandatorKey=MANDATOR_USU&amp;att.author=Knuffinke%2C+Andrea&amp;att.description=&amp;att.fileName=2018-06-28+12_38_46-Retoure+-+shop.awinta.net.png&amp;att.mimeType=image%2Fpng&amp;att.creationDate=1530182359340&amp;att.fileSize=5733&amp;att.id=34664&amp;att.isPartOfHTML=true&amp;att.isDocument=false\"></span></p>";

const regexfilename = /(att.fileName=(.*?)&)/ig;
let ar2 = myurl.match(regexfilename);
for(let abc of ar2){
  console.log(abc);
}